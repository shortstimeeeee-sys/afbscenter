# AFBS 센터 프로젝트 전체 검토 및 개선 제안

검토 일자: 2026년 2월 기준  
목적: 문제점·보완사항·추가 제안을 정리하여 더 나은 방향으로 개선하기 위함.

---

## 1. 잘 되어 있는 부분

- **기능 범위**: 대시보드, 회원/예약/대관/출석, 결제·상품·시설·코치·훈련기록·통계·공지·설정 등 업무에 필요한 화면이 대부분 구현되어 있음.
- **인증**: JWT 기반 로그인, `JwtFilter`, `AuthController`로 API 인증이 구성되어 있음.
- **예외 처리**: `GlobalExceptionHandler`로 Validation/IllegalArgument/NullPointer 등 공통 처리.
- **CORS**: `CorsConfig`로 API CORS 및 credentials 설정.
- **문서**: `README`, `PROJECT_AUDIT_REPORT`, `HARDCODED_VALUES_REPORT`, 배포/설정 가이드 등이 있어 파악이 수월함.

---

## 2. 문제점 및 즉시 보완 권장 사항

### 2.1 테스트 부재
- **현황**: `*Test*.java` 단위/통합 테스트 파일이 없음. `spring-boot-starter-test`는 의존성에만 존재.
- **권장**:  
  - 핵심 서비스/API부터 단위 테스트 및 `@WebMvcTest`·`@DataJpaTest` 등 통합 테스트 추가.  
  - 예: `AuthService`, `MemberService.getAllMembersWithFilters`, `BookingController` PUT 등.


---

## 4. 추가하면 좋은 기능/개선

### 4.1 감사 로그(감사 추적)
- **제안**: 중요한 변경(회원 수정, 예약 취소, 결제/환불, 권한 변경)에 대해 `UserAccessLog` 등에 “누가, 언제, 어떤 리소스, 어떤 작업”을 기록.
- **효과**: 분쟁·오작동 추적, compliance에 유리.

### 4.2 예약/결제 알림
- **제안**: 예약 확정·D-day 리마인더·이용권 만료 임박 등을 SMS/카카오 알림톡/이메일 중 하나라도 연동.
- **효과**: 노쇼 감소, 회원 만족도 향상.

### 4.3 데이터 내보내기/백업
- **제안**:  
  - 회원·예약·결제 등을 CSV/Excel로 기간 지정 내보내기.  
  - H2 DB 파일 또는 스키마+데이터 덤프를 정기 백업하는 스크립트 또는 설정.
- **효과**: 장부 보관, 이관, 재해 복구에 유리.

### 4.4 운영 지표 대시보드 강화
- **제안**:  
  - 예약 가동률·취소율·노쇼율을 기간별로 그래프.  
  - 코치별/시설별 매출·이용률.  
  - 이미 analytics 등에 일부 있으면, 이를 한 화면에 모아 “운영 요약” 페이지로 제공.

---

## 5. 우선순위 제안

| 우선순위 | 항목 | 이유 |
|----------|------|------|
| 1 | 테스트 추가(핵심 API/서비스) | 리팩터링·배포 시 회귀 방지 |
| 2 | XSS 대응(입력 → DOM 삽입 부분) | 보안 사고 예방 |
| 3 | 운영용 console 로그 정리 | 성능·정보 노출 최소화 |
| 4 | 하드코딩 설정값 분리 | 운영 환경별 유연한 설정 |
| 5 | 예약 JS 공통화(bookings) | 유지보수 비용·버그 감소 |
| 6 | API 페이지네이션(대용량 목록) | 데이터 증가 대비 |
| 7 | 슬롯 실데이터/요일별 운영 | 예약 정합성·운영 반영 |
| 8 | 감사 로그·알림·백업 | 운영·컴플라이언스 강화 |

---

## 6. 요약

- **강점**: 기능 구성·인증·예외 처리·문서가 잘 갖춰져 있어 실사용 가능한 수준임.
- **즉시 손보면 좋은 것**: 테스트, 프론트 로그 정리, XSS, 하드코딩 분리, 예약 JS 중복 해소.
- **중장기**: 슬롯 실데이터화, 페이지네이션, 감사 로그, 알림, 백업·내보내기.

위 순서대로 적용하면 안정성·보안·유지보수성·운영 편의가 단계적으로 개선될 수 있습니다.
